<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AuraMixer Application - Explanation</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
        }
        .container {
            max-width: 900px;
            margin: auto;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h1, h2, h3 {
            color: #0056b3;
        }
        ul {
            list-style-type: disc;
            margin-left: 20px;
        }
        code {
            background-color: #eef;
            padding: 2px 4px;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>AuraMixer Application - Program Explanation</h1>
        <p>This document provides a comprehensive explanation of the AuraMixer application, its functionalities, and how it works.</p>

        <h2>What is the AuraMixer Application?</h2>
        <p>The AuraMixer application is a simple, interactive tool built using the Pygame library in Python. It allows users to play various audio files (music tracks and scream sounds) and features dynamic background images, all controlled via keyboard inputs. It's designed to be intuitive and visually engaging.</p>

        <h2>Key Functionalities</h2>
        <ul>
            <li><strong>Music Playback with Overlapping Fade:</strong> The application automatically detects and loads <code>.wav</code> or <code>.mp3</code> music files from a dedicated <code>music/</code> subfolder. Each track is mapped to a unique numeric key (1-0 on both the top row and Numpad). When a music key is pressed, the corresponding track starts playing. If another track is already playing, the previous track smoothly fades out while the new track simultaneously fades in, ensuring a seamless transition without any silence. Music tracks loop indefinitely once started.</li>
            <li><strong>Effect Sound Playback:</strong> Similar to music, the application loads <code>.wav</code> or <code>.mp3</code> effect sounds from a <code>effects/</code> subfolder. Each alphabet key (A-Z) is mapped to a specific effect sound, ensuring that pressing the same key always plays the same sound.</li>
            <li><strong>Dynamic Backgrounds:</strong> The application loads <code>.png</code>, <code>.jpg</code>, or <code>.jpeg</code> images from a <code>backgrounds/</code> subfolder. These images are scaled to cover the entire screen, similar to the CSS <code>background-size: cover</code> property, ensuring no distortion. The background images automatically cycle every 10 seconds with a smooth fade-in/fade-out transition between them.</li>
            <li><strong>Global Stop:</strong> Pressing the Spacebar instantly stops all currently playing music and scream sounds.</li>
            <li><strong>Graphical User Interface (GUI):</strong> A simple GUI is provided, displaying the current background image and indicating the key mappings for music and scream sounds.</li>
            <li><strong>Error Handling:</strong> The program gracefully handles scenarios where the <code>music/</code>, <code>effects/</code>, or <code>backgrounds/</code> folders are missing or empty, preventing crashes and providing informative messages.</li>
        </ul>

        <h2>How It Works (Technical Overview)</h2>
        <p>The application leverages the Pygame library for its core functionalities:</p>
        <ul>
            <li><strong>Initialization:</strong> Pygame modules, especially the mixer for audio, are initialized at startup.</li>
            <li><strong>Asset Loading:</strong>
                <ul>
                    <li><strong>Audio:</strong> It scans specified subfolders (<code>music/</code>, <code>effects/</code>) for compatible audio files. Music files are managed by two <code>pygame.mixer.Channel</code> objects to enable overlapping fades, while effect sounds are loaded into <code>pygame.mixer.Sound</code> objects for quick playback.</li>
                    <li><strong>Images:</strong> Background images are loaded, and a custom scaling logic is applied to ensure they fill the screen while maintaining aspect ratio.</li>
                </ul>
            </li>
            <li><strong>Event Loop:</strong> The heart of the application is a continuous loop that listens for user input (keyboard presses) and system events (like closing the window or the background change timer).</li>
            <li><strong>Keyboard Input Handling:</strong>
                <ul>
                    <li>Numeric key presses trigger the <code>play_music()</code> function, which handles fading out the current track and starting the new one in a loop with an overlapping fade.</li>
                    <li>Alphabet key presses trigger the <code>play_scream()</code> function, playing the pre-mapped scream sound.</li>
                    <li>The Spacebar triggers the <code>stop_all_sounds()</code> function.</li>
                </ul>
            </li>
            <li><strong>Background Transition:</strong> A custom Pygame event is set up to fire periodically. When triggered, it initiates a fade transition between the current background image and the next one in the loaded list. This is achieved by drawing both images with dynamically changing alpha (transparency) values.</li>
            <li><strong>Rendering:</strong> In each frame of the loop, the current background image (or the fading transition) is drawn, followed by the text overlays displaying key mappings and instructions.</li>
        </ul>

        <h2>File Structure</h2>
        <p>The program expects the following directory structure:</p>
        <pre>.
├── auramixer.py
├── music/
│   ├── your_music_file1.mp3
│   └── your_music_file2.wav
├── effects/
│   ├── your_scream_file1.wav
│   └── your_scream_file2.mp3
└── backgrounds/
    ├── your_background_image1.png
    └── your_background_image2.jpg
</pre>
    </div>
</body>
</html>
