<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soundboard Application - Explanation</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
        }
        .container {
            max-width: 900px;
            margin: auto;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h1, h2, h3 {
            color: #0056b3;
        }
        .lang-section {
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        .lang-section:last-child {
            border-bottom: none;
        }
        .arabic {
            direction: rtl;
            text-align: right;
        }
        ul {
            list-style-type: disc;
            margin-left: 20px;
        }
        .arabic ul {
            list-style-type: arabic-indic;
            margin-right: 20px;
            margin-left: 0;
        }
        code {
            background-color: #eef;
            padding: 2px 4px;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- English Section -->
        <div class="lang-section">
            <h1>Soundboard Application - Program Explanation</h1>
            <p>This document provides a comprehensive explanation of the Soundboard application, its functionalities, and how it works.</p>

            <h2>What is the Soundboard Application?</h2>
            <p>The Soundboard application is a simple, interactive tool built using the Pygame library in Python. It allows users to play various audio files (music tracks and scream sounds) and features dynamic background images, all controlled via keyboard inputs. It's designed to be intuitive and visually engaging.</p>

            <h2>Key Functionalities</h2>
            <ul>
                <li><strong>Music Playback:</strong> The application automatically detects and loads <code>.wav</code> or <code>.mp3</code> music files from a dedicated <code>music/</code> subfolder. Each track is mapped to a unique numeric key (1-0 on both the top row and Numpad). When a music key is pressed, the corresponding track starts playing. Only one music track plays at a time, with a smooth fade-out transition for the currently playing track before a new one begins. Music tracks loop indefinitely once started.</li>
                <li><strong>Effect Sound Playback:</strong> Similar to music, the application loads <code>.wav</code> or <code>.mp3</code> effect sounds from a <code>effects/</code> subfolder. Each alphabet key (A-Z) is mapped to a specific effect sound, ensuring that pressing the same key always plays the same sound.</li>
                <li><strong>Dynamic Backgrounds:</strong> The application loads <code>.png</code>, <code>.jpg</code>, or <code>.jpeg</code> images from a <code>backgrounds/</code> subfolder. These images are scaled to cover the entire screen, similar to the CSS <code>background-size: cover</code> property, ensuring no distortion. The background images automatically cycle every 10 seconds with a smooth fade-in/fade-out transition between them.</li>
                <li><strong>Global Stop:</strong> Pressing the Spacebar instantly stops all currently playing music and scream sounds.</li>
                <li><strong>Graphical User Interface (GUI):</strong> A simple GUI is provided, displaying the current background image and indicating the key mappings for music and scream sounds.</li>
                <li><strong>Error Handling:</strong> The program gracefully handles scenarios where the <code>music/</code>, <code>effects/</code>, or <code>backgrounds/</code> folders are missing or empty, preventing crashes and providing informative messages.</li>
            </ul>

            <h2>How It Works (Technical Overview)</h2>
            <p>The application leverages the Pygame library for its core functionalities:</p>
            <ul>
                <li><strong>Initialization:</strong> Pygame modules, especially the mixer for audio, are initialized at startup.</li>
                <li><strong>Asset Loading:</strong>
                    <ul>
                        <li><strong>Audio:</strong> It scans specified subfolders (<code>music/</code>, <code>effects/</code>) for compatible audio files. Music files are loaded into <code>pygame.mixer.music</code> for streaming, while effect sounds are loaded into <code>pygame.mixer.Sound</code> objects for quick playback.</li>
                        <li><strong>Images:</strong> Background images are loaded, and a custom scaling logic is applied to ensure they fill the screen while maintaining aspect ratio.</li>
                    </ul>
                </li>
                <li><strong>Event Loop:</strong> The heart of the application is a continuous loop that listens for user input (keyboard presses) and system events (like closing the window or the background change timer).</li>
                <li><strong>Keyboard Input Handling:</strong>
                    <ul>
                        <li>Numeric key presses trigger the <code>play_music()</code> function, which handles fading out the current track and starting the new one in a loop.</li>
                        <li>Alphabet key presses trigger the <code>play_scream()</code> function, playing the pre-mapped scream sound.</li>
                        <li>The Spacebar triggers the <code>stop_all_sounds()</code> function.</li>
                    </ul>
                </li>
                <li><strong>Background Transition:</strong> A custom Pygame event is set up to fire periodically. When triggered, it initiates a fade transition between the current background image and the next one in the loaded list. This is achieved by drawing both images with dynamically changing alpha (transparency) values.</li>
                <li><strong>Rendering:</strong> In each frame of the loop, the current background image (or the fading transition) is drawn, followed by the text overlays displaying key mappings and instructions.</li>
            </ul>

            <h2>File Structure</h2>
            <p>The program expects the following directory structure:</p>
            <pre>.
├── soundboard.py
├── music/
│   ├── your_music_file1.mp3
│   └── your_music_file2.wav
├── effects/
│   ├── your_scream_file1.wav
│   └── your_scream_file2.mp3
└── backgrounds/
    ├── your_background_image1.png
    └── your_background_image2.jpg
</pre>
        </div>

        <!-- Arabic Section -->
        <div class="lang-section arabic">
            <h1>تطبيق لوحة الصوت (Soundboard) - شرح البرنامج</h1>
            <p>يقدم هذا المستند شرحًا شاملاً لتطبيق لوحة الصوت، وظائفه، وكيفية عمله.</p>

            <h2>ما هو تطبيق لوحة الصوت؟</h2>
            <p>تطبيق لوحة الصوت هو أداة بسيطة وتفاعلية مبنية باستخدام مكتبة Pygame في بايثون. يسمح للمستخدمين بتشغيل ملفات صوتية متنوعة (مقاطع موسيقية وأصوات صراخ) ويتميز بخلفيات صور ديناميكية، وكل ذلك يتم التحكم فيه عبر مدخلات لوحة المفاتيح. تم تصميمه ليكون بديهيًا وجذابًا بصريًا.</p>

            <h2>الوظائف الرئيسية</h2>
            <ul>
                <li><strong>تشغيل الموسيقى:</strong> يكتشف التطبيق تلقائيًا ويحمل ملفات الموسيقى بصيغة <code>.wav</code> أو <code>.mp3</code> من مجلد فرعي مخصص <code>music/</code>. يتم ربط كل مقطع بمفتاح رقمي فريد (1-0 على الصف العلوي ولوحة الأرقام). عند الضغط على مفتاح الموسيقى، يبدأ المقطع المقابل في التشغيل. يتم تشغيل مقطع موسيقي واحد فقط في كل مرة، مع انتقال تلاشي سلس للمقطع الذي يتم تشغيله حاليًا قبل أن يبدأ مقطع جديد. تستمر المقاطع الموسيقية في التكرار إلى أجل غير مسمى بمجرد بدئها.</li>
                <li><strong>تشغيل أصوات الصراخ:</strong> على غرار الموسيقى، يقوم التطبيق بتحميل أصوات الصراخ بصيغة <code>.wav</code> أو <code>.mp3</code> من مجلد فرعي <code>screams/</code>. يتم ربط كل مفتاح أبجدي (A-Z) بصوت صراخ محدد، مما يضمن أن الضغط على نفس المفتاح يشغل دائمًا نفس الصوت.</li>
                <li><strong>الخلفيات الديناميكية:</strong> يقوم التطبيق بتحميل صور <code>.png</code> أو <code>.jpg</code> أو <code>.jpeg</code> من مجلد فرعي <code>backgrounds/</code>. يتم تغيير حجم هذه الصور لتغطية الشاشة بأكملها، على غرار خاصية <code>background-size: cover</code> في CSS، مما يضمن عدم وجود تشويه. تتغير صور الخلفية تلقائيًا كل 10 ثوانٍ مع انتقال تلاشي سلس بينها.</li>
                <li><strong>إيقاف شامل:</strong> يؤدي الضغط على مفتاح المسافة (Spacebar) إلى إيقاف جميع الموسيقى وأصوات الصراخ التي يتم تشغيلها حاليًا على الفور.</li>
                <li><strong>واجهة المستخدم الرسومية (GUI):</strong> يتم توفير واجهة مستخدم رسومية بسيطة، تعرض صورة الخلفية الحالية وتشير إلى تعيينات المفاتيح للموسيقى وأصوات الصراخ.</li>
                <li><strong>معالجة الأخطاء:</strong> يتعامل البرنامج بأناقة مع السيناريوهات التي تكون فيها مجلدات <code>music/</code> أو <code>screams/</code> أو <code>backgrounds/</code> مفقودة أو فارغة، مما يمنع الأعطال ويوفر رسائل إعلامية.</li>
            </ul>

            <h2>كيف يعمل (نظرة عامة فنية)</h2>
            <p>يستفيد التطبيق من مكتبة Pygame لوظائفه الأساسية:</p>
            <ul>
                <li><strong>التهيئة:</strong> يتم تهيئة وحدات Pygame، وخاصة وحدة المزج للصوت، عند بدء التشغيل.</li>
                <li><strong>تحميل الأصول:</strong>
                    <ul>
                        <li><strong>الصوت:</strong> يقوم بمسح المجلدات الفرعية المحددة (<code>music/</code>، <code>screams/</code>) بحثًا عن ملفات صوتية متوافقة. يتم تحميل ملفات الموسيقى إلى <code>pygame.mixer.music</code> للبث، بينما يتم تحميل أصوات الصراخ إلى كائنات <code>pygame.mixer.Sound</code> للتشغيل السريع.</li>
                        <li><strong>الصور:</strong> يتم تحميل صور الخلفية، ويتم تطبيق منطق تغيير حجم مخصص لضمان أنها تملأ الشاشة مع الحفاظ على نسبة العرض إلى الارتفاع.</li>
                    </ul>
                </li>
                <li><strong>حلقة الأحداث:</strong> قلب التطبيق هو حلقة مستمرة تستمع إلى مدخلات المستخدم (ضغوطات لوحة المفاتيح) وأحداث النظام (مثل إغلاق النافذة أو مؤقت تغيير الخلفية).</li>
                <li><strong>معالجة مدخلات لوحة المفاتيح:</strong>
                    <ul>
                        <li>تؤدي ضغوطات المفاتيح الرقمية إلى تشغيل دالة <code>play_music()</code>، التي تتعامل مع تلاشي المقطع الحالي وبدء المقطع الجديد في حلقة.</li>
                        <li>تؤدي ضغوطات المفاتيح الأبجدية إلى تشغيل دالة <code>play_scream()</code>، وتشغيل صوت الصراخ المعين مسبقًا.</li>
                        <li>يؤدي مفتاح المسافة إلى تشغيل دالة <code>stop_all_sounds()</code>.</li>
                    </ul>
                </li>
                <li><strong>انتقال الخلفية:</strong> يتم إعداد حدث Pygame مخصص ليتم تشغيله بشكل دوري. عند تشغيله، يبدأ انتقال تلاشي بين صورة الخلفية الحالية والصورة التالية في القائمة المحملة. يتم تحقيق ذلك عن طريق رسم كلتا الصورتين بقيم ألفا (الشفافية) المتغيرة ديناميكيًا.</li>
                <li><strong>التقديم (Rendering):</strong> في كل إطار من الحلقة، يتم رسم صورة الخلفية الحالية (أو انتقال التلاشي)، تليها تراكبات النص التي تعرض تعيينات المفاتيح والتعليمات.</li>
            </ul>

            <h2>هيكل الملفات</h2>
            <p>يتوقع البرنامج هيكل الدليل التالي:</p>
            <pre>.
├── soundboard.py
├── music/
│   ├── your_music_file1.mp3
│   └── your_music_file2.wav
├── effects/
│   ├── your_scream_file1.wav
│   └── your_scream_file2.mp3
└── backgrounds/
    ├── your_background_image1.png
    └── your_background_image2.jpg
</pre>
        </div>
    </div>
</body>
</html>
